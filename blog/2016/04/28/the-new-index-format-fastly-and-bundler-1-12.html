<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge' http-equiv='X-UA-Compatible'>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <meta content='276VSYOko8B8vIu1i8i5qbj7_ql5PXo0dU69XQy-SL' name='globalsign-domain-verification'>
    <title>
      Bundler: The new index format, Fastly, and Bundler 1.12
    </title>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400,700,400italic,700italic|Source+Code+Pro' rel='stylesheet'>
    
    <link href="/stylesheets/application.css" rel="stylesheet" type="text/css" />
    <link href="/images/favicon.png" rel="icon" type="image/png" />
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
  </head>
  <body class=''>
    <div id='body'>
      <div id='header'>
        <a class="image" href="/"><img width="725" alt="The best way to manage your application's dependencies" src="/images/gembundler.png" /></a>
      </div>
      <div id='container'>
        <div class='contents blog'>
          <h2 class='title'>
            <a href="/blog/2016/04/28/the-new-index-format-fastly-and-bundler-1-12.html">The new index format, Fastly, and Bundler 1.12</a>
          </h2>
          <h3 class='subtitle'>
            by
            <a target="_blank" href="http://arko.net">AndrÃ© Arko</a>
            on
            <time>
              Apr 28 2016
            </time>
          </h3>
          <hr>
            <p>A new version of Bundler has arrived! With 1.12, weâ€™re shipping one huge change and several smaller changesâ€”the short version is that Bundler is getting faster and more capable.</p>
            
            <h2 id="the-new-index-format">The new index format</h2>
            
            <p>The biggest change landing in this release is <a href="http://andre.arko.net/2014/03/28/the-new-rubygems-index-format/">the fabled new index format</a>, which has been in development for over two years. It has required significant work on Bundler and the Bundler API webapp, but it also lays the foundation for years of speed, stability, and security. In addition to the speed increases provided by the format itself, weâ€™re also serving the new index directly from the Fastly CDN. That means Bundler will be able to talk to a server located nearby, no matter where you are in the world. We expect that to make a huge difference, especially in Oceania and Africa. ðŸŽ‰</p>
            
            <h2 id="exec-performance"><code>exec</code> performance</h2>
            
            <p>On top of the new index, we also made specific improvements to the performance of <code>bundle exec</code>. It now avoids running <code>Kernel.exec</code> if possible, and only evaluates the <code>Gemfile</code> one time, instead of twice. Added together, these changes should speed up any <code>bundle exec</code> command by around 0.25 seconds!</p>
            
            <h2 id="outdated-by-version-size"><code>outdated</code> by version size</h2>
            
            <p>Another new feature is the ability to run <code>bundle outdated</code> with the flags <code>--major</code>, <code>--minor</code>, and <code>--tiny</code>. Using those flags, you can limit Bundler to only show you new versions that are both allowed by your <code>Gemfile</code> and also meet the criteria of only changing the major, minor, or tiny version of the gem. You can combine them to get only minor and tiny updates, or even only major and tiny updates (but I have no idea why you would want to do that).</p>
            
            <h2 id="ruby-versions">Ruby versions</h2>
            
            <p>Our final big feature is support for locking Ruby versions! That means that you can put <code>ruby "~&gt; 2.3"</code> in your <code>Gemfile</code>, and Bundler will save your exact Ruby version (say, 2.3.1) into your <code>Gemfile.lock</code>. You can update the ruby version by running <code>bundle update --ruby</code>, and that will update the lock to match your current version of Ruby the same way Bundler currently updates gem versions.</p>
            
            <p>Minor changes include adding support for Ruby 2.4, RubyGems 2.6.3, and support for the Ruby 2.3 feature of freezing all string literals.</p>
            
            <h2 id="changelog">Changelog</h2>
            
            <p>We added a bunch of other small tweaks, features, and bugfixes, so be sure to check out <a href="https://github.com/bundler/bundler/blob/master/CHANGELOG.md">the changelog</a> for the entire list!</p>
            
            <h2 id="updating">Updating</h2>
            
            <p>To get the newest version of Bundler, run <code>gem install bundler</code>. If you have any issues, please check out our <a href="https://github.com/bundler/bundler/blob/master/ISSUES.md">issues guide</a> and let us know!</p>
          </hr>
        </div>
      </div>
    </div>
    <div id='footer'>
      <img src="/images/emocow.png" />
      <img src="/images/panda.jpg" />
      <div class='spacer'></div>
      <div id='credits'>
        <p>
          Many thanks to Bundler's <a href="/contributors.html">contributors</a>
          and <a href="/sponsors.html">sponsors</a>
        </p>
      </div>
      <div class='spacer'></div>
      <img src="/images/bundler-small.png" />
    </div>
    <a href='http://github.com/bundler/bundler/' id='github'>
      <img alt='Fork me on GitHub' src='http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png'>
    </a>
    <div id='prod-versions'>
      Docs:
      <a href="/v1.11/">Previous Version (v1.11)</a>
      <a class="current" href="/">Current Version (v1.12)</a>
    </div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-39559982-1', 'bundler.io');
      ga('send', 'pageview');
    </script>
    <script src="/javascripts/application.js" type="text/javascript"></script>
    
  </body>
</html>
