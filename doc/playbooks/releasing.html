<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<meta content='IE=edge' http-equiv='X-UA-Compatible'>
<meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
<meta content='276VSYOko8B8vIu1i8i5qbj7_ql5PXo0dU69XQy-SL' name='globalsign-domain-verification'>
<title>
Bundler: The best way to manage a Ruby application's gems
</title>

<script src="/javascripts/application.js"></script>
<script src="/javascripts/analytics.js" async="true"></script>
<link href="/stylesheets/application.css" rel="stylesheet" />
<link href='/images/apple-touch-icon.png' rel='apple-touch-icon' sizes='180x180'>
<link href='/images/favicon-32x32.png' rel='icon' sizes='32x32' type='image/png'>
<link href='/images/favicon-16x16.png' rel='icon' sizes='16x16' type='image/png'>
<link href='/manifest.json' rel='manifest'>
<link color='#50bced' href='/images/safari-pinned-tab.svg' rel='mask-icon'>
<meta content='bundler.io' name='apple-mobile-web-app-title'>
<meta content='bundler.io' name='application-name'>
<meta content='#ffffff' name='theme-color'>

<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />

</head>
<body class=''>
<nav class='navbar navbar-default'>
<div class='container'>
<div class='navbar-header'>
<button aria-expanded='false' class='navbar-toggle collapsed' data-target='#bs-navbar-collapse' data-toggle='collapse' type='button'>
<span class='sr-only'>Toggle navigation</span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
<span class='icon-bar'></span>
</button>
<b><a href="/" class="navbar-brand">Bundler</a></b>
</div>
<div class='collapse navbar-collapse' id='bs-navbar-collapse'>
<ul class='nav navbar-nav navbar-right'>
<li>
<div class='search-wrapper'>
<div class='form-group has-feedback'>
<i class='glyphicon glyphicon-search form-control-feedback'></i>
<input class='input-search' id='input-search' placeholder='Type to search...' type='text'>
</div>
</div>
</li>
<li><a href="/docs.html">Docs</a></li>
<li><a href="/contributors.html">Team</a></li>
<li><a href="/blog">Blog</a></li>
<li><a href="https://github.com/rubygems/rubygems/tree/master/bundler" target="_blank" rel="noopener noreferrer">Repository</a></li>
</ul>
</div>
</div>
</nav>

<div class='main-wrapper'>
<div class='row bg-light-blue header'>
<img src="/images/docs_header_transparent_bg.png" srcset="/images/docs_header_transparent_bg.png 1x, /images/docs_header_transparent_bg@2x.png 2x, /images/docs_header_transparent_bg@3x.png 3x" class="img-responsive header-padding" style="max-width: 400px;" alt="Docs header transparent bg" />
</div>
<div class='row'>
<div class='container' id='guide-container'>
<div id='wrapper'>
<div class='hidden-xs' id='sidebar-wrapper'>
<div class='sidebar-nav'>
<h4>Guides</h4>
<ul>
<li class=''>
<a href="/v2.0/guides/faq.html">Frequently Asked Questions</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_2_upgrade.html">How to Upgrade to Bundler 2</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/creating_gem.html">How to create a Ruby gem with Bundler</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/deploying.html">How to deploy bundled applications</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/git.html">How to install gems from git repositories</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/using_bundler_in_applications.html">How to manage application dependencies with Bundler</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/groups.html">How to manage groups of gems</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_sharing.html">How to package and share code using a Gemfile</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/rubygems_tls_ssl_troubleshooting_guide.html">How to troubleshoot RubyGems and Bundler TLS/SSL Issues</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/updating_gems.html">How to update gems with Bundler</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_in_a_single_file_ruby_script.html">How to use Bundler in a single-file Ruby script</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_docker_guide.html">How to use Bundler with Docker</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/rails.html">How to use Bundler with Rails</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_setup.html">How to use Bundler with Ruby</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/sinatra.html">How to use Bundler with Sinatra</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/git_bisect.html">How to use git bisect with Bundler</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_plugins.html">How to write a Bundler plugin</a>
</li>
<li class='separator'>
<hr>
</li>
</ul>

</div>
</div>
<div class='guide contents' id='page-content-wrapper'>
<h1 id="releasing">Releasing</h1>

<p>Bundler uses <a href="https://semver.org/">Semantic Versioning</a>.</p>

<p><em>Note: In the documentation listed below, the *current* minor version number is
1.11 and the *next* minor version number is 1.12</em></p>

<p>Regardless of the version, <em>all releases</em> must update the <code>CHANGELOG.md</code> and <code>lib/bundler/version.rb</code>
files. The changelog for the first stable minor release (<code>1.12.0</code>) is a sum of all
the preceding pre-release versions (<code>1.12.pre.1</code>, <code>1.12.pre.2</code>, etc) for that
minor version. The changelog for the first stable minor release is left blank
unless there are fixes included since the last pre/rc release.</p>

<h2 id="workflow">Workflow</h2>

<p>In general, <code>master</code> will accept PRs for:</p>

<ul>
  <li>feature merges for the next minor version (1.12)</li>
  <li>regression fix merges for a patch release on the current minor version (1.11)</li>
  <li>feature-flagged development for the next major version (2.0)</li>
</ul>

<h3 id="breaking-releases">Breaking releases</h3>

<p>Bundler cares a lot about preserving compatibility. As a result, changes that
break backwards compatibility should (whenever this is possible) include a feature
release that is backwards compatible, and issue warnings for all options and
behaviors that will change.</p>

<p>We try very hard to only release breaking changes when incrementing the <em>major</em>
version of Bundler.</p>

<h3 id="cherry-picking">Cherry picking</h3>

<p>Patch releases are made by cherry-picking bug fixes from <code>master</code>.</p>

<p>When we cherry-pick, we cherry-pick the merge commits using the following command:</p>

<p><code>bash&#x000A;$ git cherry-pick -m 1 MERGE_COMMIT_SHAS</code></p>

<p>For example, for PR <a href="https://github.com/rubygems/bundler/pull/5029">#5029</a>, we
cherry picked commit <a href="https://github.com/rubygems/bundler/commit/dd6aef97a5f2e7173f406267256a8c319d6134ab">dd6aef9</a>,
not <a href="https://github.com/rubygems/bundler/commit/4fe92919f51e3463f0aad6fa833ab68044311f03">4fe9291</a>
using:</p>

<p><code>bash&#x000A;$ git cherry-pick -m 1 dd6aef9</code></p>

<p>The <code>rake release:prepare_patch</code> command will automatically handle
cherry-picking, and is further detailed below.</p>

<h2 id="changelog">Changelog</h2>

<p>Bundler maintains a list of changes present in each version in the <code>CHANGELOG.md</code> file.
Entries should not be added in pull requests, but are rather written by the Bundler
maintainers before the release.</p>

<p>To fill in the changelog, maintainers can go through the relevant PRs using the
<code>rake release:open_unreleased_prs</code> and manually add a changelog entry for each
PR that it’s about to be released.</p>

<p>If you’re releasing a patch level version, you can use <code>rake&#x000A;release:open_unreleased_prs</code> to instead label each relevant PR with the proper
milestone of the version to be release. Then the <code>rake release:patch</code> task will
go <em>only</em> through those PRs, and prompt you to add a changelog entry for each of
them.</p>

<h2 id="releases">Releases</h2>

<h3 id="minor-releases">Minor releases</h3>

<p>While pushing a gem version to RubyGems.org is as simple as <code>rake release</code>,
releasing a new version of Bundler includes a lot of communication: team consensus,
git branching, changelog writing, documentation site updates, and a blog post.</p>

<p>Dizzy yet? Us too.</p>

<p>Here’s the checklist for releasing new minor versions:</p>

<ul>
  <li>[ ] Check with the core team to ensure that there is consensus around shipping a
feature release. As a general rule, this should always be okay, since features
should <em>never break backwards compatibility</em></li>
  <li>[ ] Create a new stable branch from master (see <strong>Branching</strong> below)</li>
  <li>[ ] Update <code>version.rb</code> to a prerelease number, e.g. <code>1.12.pre.1</code></li>
  <li>[ ] Update <code>CHANGELOG.md</code> to include all of the features, bugfixes, etc for that
version.</li>
  <li>[ ] Run <code>rake release</code>, tweet, blog, let people know about the prerelease!</li>
  <li>[ ] Wait a <strong>minimum of 7 days</strong></li>
  <li>[ ] If significant problems are found, increment the prerelease (i.e. 1.12.pre.2)
and repeat, but treating <code>.pre.2</code> as a <em>patch release</em>. In general, once a stable
branch has been cut from master, it should <em>not</em> have master merged back into it.</li>
</ul>

<p>Wait! You’re not done yet! After your prelease looks good:</p>

<ul>
  <li>[ ] Update <code>version.rb</code> to a final version (i.e. 1.12.0)</li>
  <li>[ ] In the <a href="https://github.com/rubygems/bundler-site">rubygems/bundler-site</a> repo,
copy the previous version’s docs to create a new version (e.g. <code>cp -r v1.11 v1.12</code>)</li>
  <li>[ ] Update the new docs as needed, paying special attention to the “What’s new”
page for this version</li>
  <li>[ ] Write a blog post announcing the new version, highlighting new features and
notable bugfixes</li>
  <li>[ ] Run <code>rake release</code> in the bundler repo, tweet, link to the blog post, etc.</li>
</ul>

<p>At this point, you’re a release manager! Pour yourself several tasty drinks and
think about taking a vacation in the tropics.</p>

<p>Beware, the first couple of days after the first non-prerelease version in a minor version
series can often yield a lot of bug reports. This is normal, and doesn’t mean you’ve done
<em>anything</em> wrong as the release manager.</p>

<h4 id="branching">Branching</h4>

<p>Minor releases of the next version start with a new release branch from the
current state of master: <code>1-12-stable</code>, and are immediately followed by a <code>.pre.1</code> release.</p>

<p>Once that <code>-stable</code> branch has been cut from <code>master</code>, changes for that minor
release series (1.12) will only be made <em>intentionally</em>, via patch releases.
That is to say, changes to <code>master</code> by default <em>won’t</em> make their way into any
<code>1.12</code> version, and development on <code>master</code> will be targeting the next minor
or major release.</p>

<h3 id="patch-releases-bug-fixes">Patch releases (bug fixes!)</h3>

<p>Releasing new bugfix versions is really straightforward. Increment the tiny version
number in <code>lib/bundler/version.rb</code>, and in <code>CHANGELOG.md</code> add one bullet point
per bug fixed. Then run <code>rake release</code> from the <code>-stable</code> branch,
and pour yourself a tasty drink!</p>

<p>PRs containing regression fixes for a patch release of the current minor version
are merged to master. These commits need to be cherry-picked from master onto
the minor branch (<code>1-12-stable</code>).</p>

<p>There is a <code>rake release:prepare_patch</code> rake task that helps with creating a patch
release. It takes a single argument, the <em>exact</em> patch release being made (e.g.
<code>1.12.3</code>), but if not given it will bump the tiny version number by one. This
task checks out the appropriate stable branch (<code>1-12-stable</code>), grabs the
<code>1.12.3</code> milestone from GitHub, ensures all PRs are closed, and then
cherry-picks those changes (and only those changes) to a new branch based off
the stable branch. Then bumps the version in the version file and commits that
change on top of the cherry-picks.</p>

<p>Now you have a release branch ready to be merged into the stable branch. You’ll
want to open a PR from this branch into the stable branch and provided CI is
green, you can go ahead, merge the PR and run <code>rake release</code> from the updated
stable branch.</p>

<h2 id="beta-testing">Beta testing</h2>

<p>Early releases require heavy testing, especially across various system setups.
We :heart: testers, and are big fans of anyone who can run <code>gem install bundler --pre</code>
and try out upcoming releases in their development and staging environments.</p>

<p>There may not always be prereleases or beta versions of Bundler.
The Bundler team will tweet from the <a href="https://twitter.com/bundlerio">@bundlerio account</a>
when a prerelease or beta version becomes available. You are also always welcome to try
checking out master and building a gem yourself if you want to try out the latest changes.</p>

</div>
</div>
</div>
</div>
<div class='row'>
<div class='container'>
<div class='hidden-lg hidden-md hidden-sm' id='bottom-sidebar-wrapper'>
<div class='bottom-sidebar-nav'>
<ul>
<li class=''>
<a href="/v2.0/guides/faq.html">Frequently Asked Questions</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_2_upgrade.html">How to Upgrade to Bundler 2</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/creating_gem.html">How to create a Ruby gem with Bundler</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/deploying.html">How to deploy bundled applications</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/git.html">How to install gems from git repositories</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/using_bundler_in_applications.html">How to manage application dependencies with Bundler</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/groups.html">How to manage groups of gems</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_sharing.html">How to package and share code using a Gemfile</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/rubygems_tls_ssl_troubleshooting_guide.html">How to troubleshoot RubyGems and Bundler TLS/SSL Issues</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/updating_gems.html">How to update gems with Bundler</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_in_a_single_file_ruby_script.html">How to use Bundler in a single-file Ruby script</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_docker_guide.html">How to use Bundler with Docker</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/rails.html">How to use Bundler with Rails</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_setup.html">How to use Bundler with Ruby</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/sinatra.html">How to use Bundler with Sinatra</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/git_bisect.html">How to use git bisect with Bundler</a>
</li>
<li class='separator'>
<hr>
</li>
<li class=''>
<a href="/v2.0/guides/bundler_plugins.html">How to write a Bundler plugin</a>
</li>
<li class='separator'>
<hr>
</li>
</ul>

</div>
</div>
</div>
</div>
<script>
  $(document).ready(function() {
    anchors.add();
  });
</script>

<div class='row bg-light-blue'>
<div class='container'>
<div class='contents'>
<div class='edit-on-github text-center'>
<a href="https://github.com/rubygems/rubygems/blob/master/bundler/doc/playbooks/releasing.html.md">Edit this document on GitHub</a> if you caught an error or noticed something was missing.
</div>
</div>
</div>
</div>

</div>
<div class='footer'>
<div class='row'>
<div class='container text-center'>
<ul class='nav navbar-nav'>
<li><a href="/docs.html">Docs</a></li>
<li><a href="/contributors.html">Team</a></li>
<li><a href="/blog">Blog</a></li>
<li><a href="https://github.com/rubygems/rubygems/tree/master/bundler">Repository</a></li>
</ul>
</div>
</div>

</div>
</body>
</html>
<style>
  .main-wrapper {
    padding-bottom: 0;
  }
</style>
